<idea-plugin url="https://gitee.com/lrucase_group/intellij-gitee">
    <id>org.intellij.gitee</id>
    <vendor email="likui@oschina.cn">码云</vendor>
    <name>Gitee</name>
    <description>
      <![CDATA[
        Allows working with <a href="http://gitee.com/" >码云 - Gitee</a>
      ]]>
    </description>
    <change-notes>
      <![CDATA[
        <ul>
          <li>适配IDEA的VCS.GIT新框架</li>
          <li>重构代码, 采用`gitee`作为码云统一标识, 修改代码包名为码云域名</li>
        </ul>
      ]]>
    </change-notes>

    <idea-version since-build="183.1" until-build="183.*"/>
    <depends>com.intellij.modules.lang</depends>
    <depends>Git4Idea</depends>
    <depends optional="true" config-file="GiteeTracker.xml">com.intellij.tasks</depends>

    <!-- //////////////////////////////////////////////////////////////////////////////////// -->

    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceInterface="com.gitee.util.GiteeSettings"
                            serviceImplementation="com.gitee.util.GiteeSettings" />

        <applicationService serviceImplementation="com.gitee.authentication.accounts.GiteeAccountManager"/>
        <applicationService serviceImplementation="com.gitee.authentication.GiteeAuthenticationManager"/>
        <applicationService serviceImplementation="com.gitee.api.GiteeApiRequestExecutor$Factory"/>
        <applicationService serviceImplementation="com.gitee.api.GiteeApiRequestExecutorManager"/>
        <applicationService serviceImplementation="com.gitee.authentication.accounts.GiteeAccountInformationProvider"/>

        <applicationService serviceImplementation="com.gitee.util.GiteeGitHelper"/>
        <applicationService serviceImplementation="com.gitee.extensions.GiteeAccountGitAuthenticationFailureManager"/>

        <projectService serviceInterface="com.gitee.util.GiteeProjectSettings"
                        serviceImplementation="com.gitee.util.GiteeProjectSettings"/>
        <projectService serviceImplementation="com.gitee.authentication.accounts.GiteeProjectDefaultAccountHolder"/>
        <projectConfigurable parentId="project.propVCSSupport.Mappings" instance="com.gitee.ui.GiteeSettingsConfigurable"/>

        <vcsAnnotationGutterActionProvider implementation="com.gitee.extensions.GiteeAnnotationGutterActionProvider" />

        <statistics.applicationUsagesCollector implementation="com.gitee.authentication.accounts.GiteeAccountsStatisticsCollector"/>
    </extensions>

    <extensions defaultExtensionNs="Git4Idea">
        <GitHttpAuthDataProvider implementation="com.gitee.extensions.GiteeHttpAuthDataProvider" />
        <gitRepositoryHostingService implementation="com.gitee.extensions.GiteeRepositoryHostingService"/>
    </extensions>

    <actions>
        <action id="Gitee.Share" class="com.gitee.actions.GiteeShareAction">
            <add-to-group group-id="Vcs.Import"/>
        </action>

        <action id="Gitee.Open.In.Browser" class="com.gitee.actions.GiteeOpenInBrowserActionGroup">
            <add-to-group group-id="EditorPopupMenu"/>
            <add-to-group group-id="ProjectViewPopupMenu"/>
            <add-to-group group-id="EditorTabPopupMenu"/>
            <add-to-group group-id="Git.LogContextMenu"/>
            <add-to-group group-id="Vcs.Log.ContextMenu"/>
            <add-to-group group-id="VcsHistoryActionsGroup"/>
            <add-to-group group-id="VcsHistoryActionsGroup.Toolbar"/>
        </action>

        <action id="Gitee.Create.Gist" class="com.gitee.actions.GiteeCreateGistAction">
            <add-to-group group-id="EditorPopupMenu"/>
            <add-to-group group-id="ProjectViewPopupMenu"/>
            <add-to-group group-id="EditorTabPopupMenu"/>
            <add-to-group group-id="ConsoleEditorPopupMenu"/>
        </action>
    </actions>
</idea-plugin>
